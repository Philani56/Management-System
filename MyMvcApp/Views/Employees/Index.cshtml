@model IEnumerable<MyMvcApp.Models.Employee>

@{
    ViewData["Title"] = "Employee List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <!-- Header and Search Bar -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
            <h1 class="underlined-heading">Employees</h1>
            <p class="text-muted mb-0">Manage and view all employee records. Use the search bar to quickly find employees.</p>
        </div>
        <div>
            <input type="text" id="searchInput" class="form-control form-control-sm rounded-pill shadow-sm" placeholder="Search employees..." style="width: 200px;" />

            <a asp-action="ExportToExcel" class="btn btn-sm btn-success rounded-pill">
                <i class="fas fa-file-excel"></i> Export to Excel
            </a>
        </div>
    </div>

    <!-- Employee Table -->
    <div class="table-responsive">
        <table class="table table-sm table-hover table-bordered">
            <thead class="thead-custom">
                <tr>
                    <th class="border-end">Name</th>
                    <th class="border-end">Date of Birth</th>
                    <th class="border-end">Gender</th>
                    <th class="border-end">Email</th>
                    <th class="border-end">Phone</th>
                    <th class="border-end">Job Title</th>
                    <th class="border-end">Department</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="border-end">@item.FirstName @item.MiddleName @item.LastName</td>
                        <td class="border-end">@item.DateOfBirth.ToShortDateString()</td>
                        <td class="border-end">@item.Gender</td>
                        <td class="border-end">@item.EmailAddress</td>
                        <td class="border-end">@item.PhoneNumber</td>
                        <td class="border-end">@item.JobTitle</td>
                        <td class="border-end">@item.Department</td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.EmployeeID" class="btn btn-sm btn-outline-primary rounded-pill px-2">
                                <i class="fas fa-edit fa-sm"></i> <!-- Edit Icon -->
                            </a>
                            <a asp-action="Delete" asp-route-id="@item.EmployeeID" class="btn btn-sm btn-outline-danger rounded-pill px-2">
                                <i class="fas fa-trash fa-sm"></i> <!-- Delete Icon -->
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Search Functionality Script -->
@section Scripts {
    <script>
        $(document).ready(function () {
            $("#searchInput").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("tbody tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
                });
            });
        });
    </script>
}

<!-- Custom CSS for Sleek Design -->
<style>
    /* Table Styling */
    .table {
        font-size: 0.75rem; /* Smaller font size */
        width: 100%; /* Ensure table fits the container */
        border-collapse: collapse; /* Collapse borders for clean lines */
    }

        .table th, .table td {
            padding: 0.5rem; /* Compact padding */
            border: 1px solid #dee2e6; /* Light borders */
        }

        .table thead th {
            background-color: #4e73df; /* Modern blue header */
            color: #fff; /* White text */
            font-weight: 600;
            border: 1px solid #4e73df; /* Match header border color */
        }

        .table tbody tr {
            background-color: #fff; /* White row background */
        }

            .table tbody tr:hover {
                background-color: #f8f9fa; /* Light hover effect */
            }

    /* Vertical Lines (Borders between columns) */
    .border-end {
        border-right: 1px solid #dee2e6; /* Light vertical lines */
    }

    /* Search Bar Styling */
    #searchInput {
        border: 1px solid #ddd; /* Light border */
        transition: all 0.3s ease;
    }

        #searchInput:focus {
            border-color: #4e73df;
            box-shadow: 0 0 5px rgba(78, 115, 223, 0.5);
        }

    /* Button Styling */
    .btn-sm {
        font-size: 0.75rem; /* Smaller button text */
        padding: 0.25rem 0.5rem; /* Compact padding */
    }

    .rounded-pill {
        border-radius: 50px; /* Pill-shaped buttons */
    }

    .btn-outline-primary {
        border-color: #4e73df;
        color: #4e73df;
    }

        .btn-outline-primary:hover {
            background-color: #4e73df;
            color: #fff;
        }

    .btn-outline-danger {
        border-color: #e74a3b;
        color: #e74a3b;
    }

        .btn-outline-danger:hover {
            background-color: #e74a3b;
            color: #fff;
        }

    /* Header and Paragraph Styling */
    h1 {
        color: #4e73df; /* Modern blue */
        font-weight: 700;
    }

    .text-muted {
        color: #6c757d; /* Gray text for paragraph */
    }

    .underlined-heading {
        display: inline-block; /* Ensures the underline only spans the text */
        padding-bottom: 5px; /* Space between text and underline */
        border-bottom: 3px solid #007bff; /* Underline color and thickness */
    }
</style>